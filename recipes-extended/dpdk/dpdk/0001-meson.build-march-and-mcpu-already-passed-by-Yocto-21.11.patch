From 34ee2a1a2c4cdac197390891b1c9b0a4a982bdf9 Mon Sep 17 00:00:00 2001
From: Naveen Saini <naveen.kumar.saini@intel.com>
Date: Wed, 8 Dec 2021 11:48:27 +0800
Subject: [PATCH] meson.build:-march and -mcpu already passed by Yocto

Upstream-Status: Inappropriate

Signed-off-by: Naveen Saini <naveen.kumar.saini@intel.com>

---
 config/meson.build | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

diff --git a/config/meson.build b/config/meson.build
index c755083db0..27ca292b45 100644
--- a/config/meson.build
+++ b/config/meson.build
@@ -124,26 +124,26 @@ if cpu_instruction_set == 'generic'
         cpu_instruction_set = 'power8'
     elif host_machine.cpu_family().startswith('riscv')
         cpu_instruction_set = 'rv64gc'
     endif
 endif
 
 dpdk_conf.set('RTE_MACHINE', cpu_instruction_set)
 machine_args = []
 
 # ppc64 does not support -march= at all, use -mcpu and -mtune for that
-if host_machine.cpu_family().startswith('ppc')
-    machine_args += '-mcpu=' + cpu_instruction_set
-    machine_args += '-mtune=' + cpu_instruction_set
-else
-    machine_args += '-march=' + cpu_instruction_set
-endif
+#if host_machine.cpu_family().startswith('ppc')
+#    machine_args += '-mcpu=' + cpu_instruction_set
+#    machine_args += '-mtune=' + cpu_instruction_set
+#else
+#    machine_args += '-march=' + cpu_instruction_set
+#endif
 
 toolchain = cc.get_id()
 dpdk_conf.set_quoted('RTE_TOOLCHAIN', toolchain)
 dpdk_conf.set('RTE_TOOLCHAIN_' + toolchain.to_upper().underscorify(), 1)
 
 dpdk_conf.set('RTE_ARCH_64', cc.sizeof('void *') == 8)
 dpdk_conf.set('RTE_ARCH_32', cc.sizeof('void *') == 4)
 
 if not is_windows
     add_project_link_arguments('-Wl,--no-as-needed', language: 'c')
